{% extends 'base.html' %}

{% block body %}
<div class="uk-container">
    <form method="get">
        <label for="month">Month</label>
        <input type="month" id="month" name="month">

        <label for="date">Date</label>
        <input type="date" id="date" name="date" value="{{ today }}">

        <label for="department">Department</label>
        <select id="department" name="department" class="uk-select">
            <option value="">All</option>
            {% for d in departments %}
                <option value="{{ d.department_name }}">{{ d.department_name }}</option>
            {% endfor %}
        </select>

        <label for="client">Client</label>
        <input type="text" id="client" name="client" class="uk-input" placeholder="Client name">

        <label for="title">Title</label>
        <input type="text" id="title" name="title" class="uk-input" placeholder="Title">

        <button type="submit" class="uk-button uk-button-primary">Filter</button>
    </form>

    <h2>Filtered Issues</h2>
    {% if issues %}
        {% if issues.exists %}
            {% include 'issues/display_issues.html' %}
        {% else %}
            <p>No issues found for the selected filters.</p>
        {% endif %}
    {% endif %}
</div>
{% endblock %}
